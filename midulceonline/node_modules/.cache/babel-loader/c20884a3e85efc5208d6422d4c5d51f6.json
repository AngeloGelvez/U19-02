{"ast":null,"code":"import _regeneratorRuntime from\"D:/U19-02/midulceonline/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/U19-02/midulceonline/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"D:/U19-02/midulceonline/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/U19-02/midulceonline/node_modules/@babel/runtime/helpers/esm/createClass.js\";import config from'../config';var APIInvoke=/*#__PURE__*/function(){function APIInvoke(){_classCallCheck(this,APIInvoke);}_createClass(APIInvoke,[{key:\"invokeGET\",value:function(){var _invokeGET=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(resource,queryParams){var queryString,token,bearer,data,url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:queryParams=queryParams||[];queryString=queryParams.reduce(function(last,q,i){return last+\"\".concat(i===0?'?':\"&\").concat(q);},'');token=localStorage.getItem(\"token\");if(token===\"\"){bearer=\"\";}else{bearer=\"\".concat(token);}data={method:'GET',headers:{'Content-Type':'application/json','x-auth-token':bearer}};url=\"\".concat(config.api.baseURL).concat(resource).concat(queryString);_context.next=8;return fetch(url,data);case 8:_context.next=10;return _context.sent.json();case 10:response=_context.sent;return _context.abrupt(\"return\",response);case 12:case\"end\":return _context.stop();}}},_callee);}));function invokeGET(_x,_x2){return _invokeGET.apply(this,arguments);}return invokeGET;}()},{key:\"invokePUT\",value:function(){var _invokePUT=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(resource,body){var token,bearer,data,url,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=localStorage.getItem(\"token\");if(token===\"\"){bearer=\"\";}else{bearer=\"\".concat(token);}data={method:'PUT',body:JSON.stringify(body),headers:{'Content-Type':'application/json','x-auth-token':bearer}};url=\"\".concat(config.api.baseURL).concat(resource);_context2.next=6;return fetch(url,data);case 6:_context2.next=8;return _context2.sent.json();case 8:response=_context2.sent;return _context2.abrupt(\"return\",response);case 10:case\"end\":return _context2.stop();}}},_callee2);}));function invokePUT(_x3,_x4){return _invokePUT.apply(this,arguments);}return invokePUT;}()},{key:\"invokePOST\",value:function(){var _invokePOST=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(resource,body){var token,bearer,data,url,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=localStorage.getItem(\"token\");if(token===\"\"){bearer=\"\";}else{bearer=\"\".concat(token);}data={method:'POST',body:JSON.stringify(body),headers:{'Content-Type':'application/json','x-auth-token':bearer}};url=\"\".concat(config.api.baseURL).concat(resource);_context3.next=6;return fetch(url,data);case 6:_context3.next=8;return _context3.sent.json();case 8:response=_context3.sent;return _context3.abrupt(\"return\",response);case 10:case\"end\":return _context3.stop();}}},_callee3);}));function invokePOST(_x5,_x6){return _invokePOST.apply(this,arguments);}return invokePOST;}()},{key:\"invokeDELETE\",value:function(){var _invokeDELETE=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(resource){var token,bearer,data,url,response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=localStorage.getItem(\"token\");if(token===\"\"){bearer=\"\";}else{bearer=\"\".concat(token);}data={method:'DELETE',headers:{'Content-Type':'application/json','x-auth-token':bearer}};url=\"\".concat(config.api.baseURL).concat(resource);_context4.next=6;return fetch(url,data);case 6:_context4.next=8;return _context4.sent.json();case 8:response=_context4.sent;return _context4.abrupt(\"return\",response);case 10:case\"end\":return _context4.stop();}}},_callee4);}));function invokeDELETE(_x7){return _invokeDELETE.apply(this,arguments);}return invokeDELETE;}()}]);return APIInvoke;}();export default new APIInvoke();","map":{"version":3,"names":["config","APIInvoke","resource","queryParams","queryString","reduce","last","q","i","token","localStorage","getItem","bearer","data","method","headers","url","api","baseURL","fetch","json","response","body","JSON","stringify"],"sources":["D:/U19-02/midulceonline/src/utils/APIInvoke.js"],"sourcesContent":["import config from '../config'\r\n\r\nclass APIInvoke {\r\n    async invokeGET(resource, queryParams) {\r\n\r\n        queryParams = queryParams || []\r\n        const queryString = queryParams.reduce((last, q, i) => last + `${i === 0 ? '?' : \"&\"}${q}`, '')\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        let bearer;\r\n        if (token === \"\") {\r\n            bearer = \"\";\r\n        } else {\r\n            bearer = `${token}`;\r\n        }\r\n\r\n        const data = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': bearer\r\n            }\r\n        }\r\n        const url = `${config.api.baseURL}${resource}${queryString}`\r\n        let response = (await (await fetch(url, data)).json())\r\n        return response\r\n    }\r\n\r\n    async invokePUT(resource, body) {\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        let bearer;\r\n        if (token === \"\") {\r\n            bearer = \"\";\r\n        } else {\r\n            bearer = `${token}`;\r\n        }\r\n\r\n        const data = {\r\n            method: 'PUT',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': bearer\r\n            }\r\n        }\r\n        const url = `${config.api.baseURL}${resource}`\r\n        let response = (await (await fetch(url, data)).json())\r\n        return response\r\n    }\r\n\r\n    async invokePOST(resource, body) {\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        let bearer;\r\n        if (token === \"\") {\r\n            bearer = \"\";\r\n        } else {\r\n            bearer = `${token}`;\r\n        }\r\n\r\n        const data = {\r\n            method: 'POST',\r\n            body: JSON.stringify(body),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': bearer\r\n            }\r\n        }\r\n        const url = `${config.api.baseURL}${resource}`\r\n        let response = (await (await fetch(url, data)).json())\r\n        return response\r\n    }\r\n\r\n    async invokeDELETE(resource) {\r\n\r\n        const token = localStorage.getItem(\"token\");\r\n        let bearer;\r\n        if (token === \"\") {\r\n            bearer = \"\";\r\n        } else {\r\n            bearer = `${token}`;\r\n        }\r\n\r\n        const data = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': bearer\r\n            }\r\n        }\r\n        const url = `${config.api.baseURL}${resource}`\r\n        let response = (await (await fetch(url, data)).json())\r\n        return response\r\n    }\r\n}\r\n\r\nexport default new APIInvoke()"],"mappings":"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"},"metadata":{},"sourceType":"module"}